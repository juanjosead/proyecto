<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Citamed – Registro</title>
  <link rel="stylesheet" href="estilos.css"/>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <style>
    #btn-reserva:disabled { opacity:0.6; cursor:not-allowed; }
  </style>
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="LOGO.JPG" alt="Logo Citamed" class="logo">
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="agendar.html">Agendar Cita</a></li>
        <li><a href="#">Nosotros</a></li>
        <li><a href="#">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <main class="agenda-main">
    <div class="card">
      <h1>Registro en Citamed</h1>
      <form id="registro-form">
        <label for="nombre">Nombre completo</label>
        <input type="text" id="nombre" placeholder="Tu nombre" required/>

        <label for="email">Correo electrónico</label>
        <input type="email" id="email" placeholder="tu@correo.com" required/>

        <label for="password">Contraseña</label>
        <input type="password" id="password" placeholder="********" required/>

        <button type="submit" class="btn-primary">Registrarse</button>
      </form>

      <button id="btn-reserva" class="btn-secondary" disabled>
        Reserva tu cita
      </button>
    </div>
  </main>

  <section class="social-section">
    <div class="social-icons"></div>
  </section>

  <footer>
    <p>© 2025 Citamed. Todos los derechos reservados.</p>
  </footer>

  <div id="chat-widget">
    <div id="chat-header">Chat con Citamed <span id="chat-close">×</span></div>
    <div id="chat-body"></div>
    <div id="chat-footer">
      <input type="text" id="chat-input" placeholder="Escribe tu mensaje..."/>
      <button id="chat-send">Enviar</button>
    </div>
  </div>

  <script src="social.js"></script>
  <script src="chat.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form      = document.getElementById('registro-form');
      const btnReserva= document.getElementById('btn-reserva');

      form.addEventListener('submit', e => {
        e.preventDefault();
        const nombre = document.getElementById('nombre').value.trim();
        const email  = document.getElementById('email').value.trim();
        const pass   = document.getElementById('password').value.trim();

        if (!nombre || !email || !pass) {
          alert('❗ Completa todos los campos.');
          return;
        }

        localStorage.setItem('citamed_registered','true');
        localStorage.setItem('citamed_role','usuario');
        alert('¡Registro exitoso! Ahora puedes reservar tu cita.');
        btnReserva.disabled = false;
      });

      btnReserva.addEventListener('click', () => {
        if (localStorage.getItem('citamed_registered')==='true') {
          window.location.href = 'reservar.html';
        } else {
          alert('❗ Primero debes registrarte.');
        }
      });
    });
  </script>
</body>
</html>
